<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">

    <!-- Search Engine Meta Tags -->
    <meta name="description" content="Replace 'hub' with 'ingest' in any Github Url for a prompt-friendly text">
    <meta name="keywords" content="GitIngest, AI tools, LLM integration, Ingest, Digest, Context, Prompt, Git workflow, codebase extraction, Git repository, Git automation, Summarize, prompt-friendly">
    <meta name="robots" content="index, follow">

      <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="/static/favicon.svg">
    <link rel="icon" type="image/png" sizes="64x64" href="/static/favicon-64.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/static/apple-touch-icon.png">

     <!-- Web App Meta -->
    <meta name="apple-mobile-web-app-title" content="GitIngest">
    <meta name="application-name" content="GitIngest">
    <meta name="theme-color" content="#FCA847">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">

    
    <!-- OpenGraph Meta Tags -->
    <meta property="og:title" content="Git ingest">
    <meta property="og:description" content="Replace 'hub' with 'ingest' in any Github Url for a prompt-friendly text">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:image" content="/static/og-image.png">
    
    <title>{% block title %}Git ingest{% endblock %}</title>

    <!-- Prevent flash of unstyled content -->
    <script>
        // Immediately set the theme before page loads
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            
            if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
                document.documentElement.classList.add('dark');
            }
        })();
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="/static/js/utils.js"></script>
    <script src="/static/js/snow.js"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        dark: {
                            primary: '#1E1E1E',
                            secondary: '#282828',
                            accent: {
                                DEFAULT: '#ffc480',
                                hover: '#ffb366'
                            },
                            text: {
                                primary: '#f5f5f5',
                                secondary: '#a0a0a0'
                            }
                        }
                    },
                    boxShadow: {
                        'dark': '0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px -1px rgba(0, 0, 0, 0.4)',
                    }
                }
            }
        }
    </script>
    <style>
        #snow-canvas {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 10;
            width: 100%;
            height: 100%;
        }
        
        /* Add dark mode transition styles */
        body {
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        /* Dark mode specific styles */
        html.dark body {
            background-color: #1E1E1E;
            color: var(--dark-text-primary);
        }
        
        html.dark .bg-[#fff4da] {
            background-color: #282828;
        }
        
        html.dark .bg-[#FFFDF8] {
            background-color: #111827;
        }
        
        html.dark .text-gray-600 {
            color: #d1d5db;
        }
        
        html.dark .bg-[#ffc480] {
            background-color: #d97706;
        }

        /* Add smooth transitions for all color changes */
        * {
            transition-property: background-color, border-color, color, fill, stroke;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 200ms;
        }

        /* Add custom scrollbar for dark mode */
        html.dark ::-webkit-scrollbar {
            width: 12px;
        }
        
        html.dark ::-webkit-scrollbar-track {
            background: #1E1E1E;
            border-left: 1px solid #383838;
        }
        
        html.dark ::-webkit-scrollbar-thumb {
            background: #484848;
            border-radius: 4px;
            border: 2px solid #1E1E1E;
        }
        
        html.dark ::-webkit-scrollbar-thumb:hover {
            background: #585858;
        }

        /* Improved text hierarchy */
        html.dark .text-secondary {
            color: var(--dark-text-secondary);
        }

        /* Enhanced border visibility */
        html.dark .border-dark {
            border-color: #383838;
        }

        /* Consistent button styling */
        html.dark .btn-primary {
            @apply bg-dark-accent text-gray-900 border-gray-900 hover:brightness-110;
            box-shadow: var(--shadow-dark);
        }
    </style>
    {% block extra_head %}{% endblock %}
</head>

<body class="bg-[#FFFDF8] dark:bg-dark-primary min-h-screen flex flex-col transition-colors duration-200">
    <canvas id="snow-canvas"></canvas>
    {% include 'components/navbar.jinja' %}

    <!-- Main content wrapper -->
    <main class="flex-1 w-full">
        <div class="max-w-4xl mx-auto px-4 py-8">
            {% block content %}{% endblock %}
        </div>
    </main>

    {% include 'components/footer.jinja' %}
    
    {% block extra_scripts %}{% endblock %}
</body>
</html> 